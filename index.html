<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CodeFixer - Sistema Profissional</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Poppins', sans-serif;
}

body{
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    min-height:100vh;
    padding:30px;
    color:white;
}

header{
    text-align:center;
    margin-bottom:30px;
    animation: fadeIn 1s ease-in-out;
}

header img{
    width:120px;
    margin-bottom:10px;
}

header h1{
    font-size:28px;
    font-weight:700;
}

.form-container{
    background: rgba(255,255,255,0.08);
    padding:20px;
    border-radius:15px;
    backdrop-filter: blur(10px);
    box-shadow:0 8px 20px rgba(0,0,0,0.3);
    margin-bottom:30px;
}

input{
    width:100%;
    padding:12px;
    margin:8px 0;
    border:none;
    border-radius:8px;
}

button{
    padding:12px;
    width:100%;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-weight:600;
    transition:0.3s;
}

.btn-primary{
    background:#00c6ff;
    color:white;
}

.btn-primary:hover{
    background:#0072ff;
    transform:scale(1.05);
}

.card{
    background:white;
    color:#333;
    padding:20px;
    border-radius:15px;
    margin-top:15px;
    box-shadow:0 6px 15px rgba(0,0,0,0.2);
    animation: fadeUp 0.5s ease;
}

.card button{
    margin-top:8px;
}

.btn-pdf{
    background:#1565c0;
    color:white;
}

.btn-whats{
    background:#25D366;
    color:white;
}

.btn-delete{
    background:red;
    color:white;
}

@keyframes fadeIn{
    from{opacity:0;}
    to{opacity:1;}
}

@keyframes fadeUp{
    from{opacity:0; transform:translateY(20px);}
    to{opacity:1; transform:translateY(0);}
}
</style>
</head>
<body>

<header>
    <img src="https://images.unsplash.com/photo-1581091870627-3c2b7c5a4c9b?auto=format&fit=crop&w=300&q=80">
    <h1>CodeFixer - Sistema de Or√ßamentos</h1>
</header>

<div class="form-container">
    <input type="text" id="nome" placeholder="Nome do Cliente">
    <input type="text" id="telefone" placeholder="Telefone com DDD">
    <input type="text" id="endereco" placeholder="Endere√ßo">
    <input type="text" id="servico" placeholder="Tipo de Servi√ßo">
    <input type="number" id="valor" placeholder="Valor do Servi√ßo">
    <input type="date" id="data">
    <input type="time" id="hora">
    <button class="btn-primary" onclick="adicionar()">Adicionar Cliente</button>
</div>

<div id="lista"></div>

<script>
let clientes = JSON.parse(localStorage.getItem("clientes")) || [];
let contadorOrcamento = parseInt(localStorage.getItem("contadorOrcamento")) || 1;
let lista = document.getElementById("lista");

function salvar(){
    localStorage.setItem("clientes", JSON.stringify(clientes));
    localStorage.setItem("contadorOrcamento", contadorOrcamento);
}

function adicionar(){
    const cliente = {
        nome: nome.value,
        telefone: telefone.value,
        endereco: endereco.value,
        servico: servico.value,
        valor: parseFloat(valor.value),
        data: data.value,
        hora: hora.value
    };

    clientes.push(cliente);
    salvar();
    mostrar();

    document.querySelectorAll("input").forEach(i => i.value = "");
}

function excluir(index){
    clientes.splice(index,1);
    salvar();
    mostrar();
}

function mostrar(){
    lista.innerHTML = "";
    clientes.forEach((c,i)=>{
        lista.innerHTML += `
        <div class="card">
            <b>üë§ ${c.nome}</b><br>
            üìû ${c.telefone}<br>
            üìç ${c.endereco}<br>
            üõ† ${c.servico}<br>
            üí∞ R$ ${c.valor.toFixed(2)}<br>
            üìÖ ${c.data} ‚è∞ ${c.hora}<br>

            <button class="btn-pdf" onclick="gerarOrcamento(${i})">üßæ Gerar PDF</button>
            <button class="btn-whats" onclick="enviarWhatsApp(${i})">üì± WhatsApp</button>
            <button class="btn-delete" onclick="excluir(${i})">Excluir</button>
        </div>`;
    });
}

function gerarOrcamento(index){
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    const cliente = clientes[index];
    const numeroAtual = contadorOrcamento++;
    const dataAtual = new Date().toLocaleDateString("pt-BR");

    salvar();

    doc.setFontSize(18);
    doc.text("CodeFixer - OR√áAMENTO", 105, 20, { align: "center" });

    doc.text(`Or√ßamento N¬∫ ${numeroAtual}`, 10, 35);
    doc.text(`Data: ${dataAtual}`, 150, 35);

    doc.line(10, 40, 200, 40);

    doc.text(`Cliente: ${cliente.nome}`, 10, 55);
    doc.text(`Telefone: ${cliente.telefone}`, 10, 65);
    doc.text(`Servi√ßo: ${cliente.servico}`, 10, 75);
    doc.text(`Valor: R$ ${cliente.valor.toFixed(2)}`, 10, 85);

    doc.line(10, 120, 90, 120);
    doc.text("Assinatura do Cliente", 10, 130);

    doc.save(`Orcamento_${numeroAtual}.pdf`);
}

function enviarWhatsApp(index){
    const cliente = clientes[index];
    let numero = cliente.telefone.replace(/\D/g,'');
    if(!numero.startsWith("55")){
        numero = "55" + numero;
    }

    const mensagem =
`Ol√° ${cliente.nome} üëã
Segue seu or√ßamento CodeFixer:

üõ† ${cliente.servico}
üí∞ R$ ${cliente.valor.toFixed(2)}
üìÖ ${cliente.data}
‚è∞ ${cliente.hora}

Aguardamos confirma√ß√£o! üíª`;

    window.open(`https://wa.me/${numero}?text=${encodeURIComponent(mensagem)}`,'_blank');
}

mostrar();
</script>

</body>
</html>














